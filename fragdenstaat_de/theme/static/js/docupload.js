!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.docupload=t():(e.Froide=e.Froide||{},e.Froide.components=e.Froide.components||{},e.Froide.components.docupload=t())}(window,function(){return function(e){function t(t){for(var o,a,s=t[0],l=t[1],d=t[2],u=0,p=[];u<s.length;u++)a=s[u],r[a]&&p.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(c&&c(t);p.length;)p.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={1:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=o);var i,s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+""+({}[e]||e)+".js"}(e),i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[e]=void 0}};var d=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,s.appendChild(l)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;return i.push(["../froide/frontend/javascript/docupload.js",0]),n()}({"../froide/frontend/javascript/components/docupload/document-uploader.vue?vue&type=style&index=0&id=59b110f2&lang=scss&scoped=true&":function(e,t,n){"use strict";var o=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/document-uploader.vue?vue&type=style&index=0&id=59b110f2&lang=scss&scoped=true&");n.n(o).a},"../froide/frontend/javascript/components/docupload/fullpdf-document.vue?vue&type=style&index=0&id=3ccd255c&lang=scss&scoped=true&":function(e,t,n){"use strict";var o=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/fullpdf-document.vue?vue&type=style&index=0&id=3ccd255c&lang=scss&scoped=true&");n.n(o).a},"../froide/frontend/javascript/components/docupload/image-document.vue?vue&type=style&index=0&id=4254616a&lang=scss&scoped=true&":function(e,t,n){"use strict";var o=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/image-document.vue?vue&type=style&index=0&id=4254616a&lang=scss&scoped=true&");n.n(o).a},"../froide/frontend/javascript/components/docupload/image-page.vue?vue&type=style&index=0&id=54e2cfd4&lang=scss&scoped=true&":function(e,t,n){"use strict";var o=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/image-page.vue?vue&type=style&index=0&id=54e2cfd4&lang=scss&scoped=true&");n.n(o).a},"../froide/frontend/javascript/components/docupload/pdf-document.vue?vue&type=style&index=0&id=893937d0&lang=scss&scoped=true&":function(e,t,n){"use strict";var o=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/pdf-document.vue?vue&type=style&index=0&id=893937d0&lang=scss&scoped=true&");n.n(o).a},"../froide/frontend/javascript/docupload.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/vue/dist/vue.runtime.esm.js"),r=n("../froide/frontend/javascript/lib/vue-helper.js"),i=n("../froide/frontend/javascript/lib/i18n-mixin.js");var a={name:"pdf-document",mixins:[i.a],props:["config","document"],components:{},data:function(){return{progressTotal:null,progressCurrent:null,ready:!1,pdf:null,numPages:null,pdfPages:[]}},mounted:function(){var e=this;this.document.new&&window.setTimeout(function(){return e.$emit("notnew")},2e3),this.document.pending&&this.checkProgress()},computed:{pages:function(){return this.document.pages}},methods:{checkProgress:function(){var e=this;window.fetch("/api/v1/attachment/".concat(this.document.id,"/")).then(function(e){return e.json()}).then(function(t){!0!==t.pending?!1===t.pending?e.$emit("docupdated",{pending:!1,new:!0,component:"fullpdf-document",site_url:t.site_url,file_url:t.file_url}):document.location.reload():window.setTimeout(function(){return e.checkProgress()},5e3)}).catch(function(){window.setTimeout(function(){return e.checkProgress()},5e3)})}}},s=(n("../froide/frontend/javascript/components/docupload/pdf-document.vue?vue&type=style&index=0&id=893937d0&lang=scss&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),l=Object(s.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document mb-3"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("small",[e._v(e._s(e.document.name))])]),e._v(" "),n("div",{staticClass:"card-body",class:{"is-new":e.document.new}},[e.document.uploading?n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",class:{"progress-bar-animated progress-bar-striped":null===e.document.progressPercent},style:{width:e.document.progress?e.document.progressPercentLabel:"100%"},attrs:{role:"progressbar","aria-valuenow":e.document.progressPercent?e.document.progressPercent:0,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e(),e._v(" "),e.document.pending?n("div",[n("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.loading))])]),e._v(" "),n("p",[e._v("\n          "+e._s(e.i18n.documentPending)+"\n        ")])]):[n("a",{staticClass:"btn btn-sm btn-light",attrs:{href:e.document.site_url,target:"_blank"}},[e._v("\n          "+e._s(e.i18n.openAttachmentPage)+"\n        ")]),e._v(" "),n("button",{staticClass:"btn btn-sm btn-light",on:{click:function(t){e.$emit("loadpdf")}}},[e._v("\n          "+e._s(e.i18n.loadPreview)+"\n        ")])]],2)])])},[],!1,null,"893937d0",null);l.options.__file="pdf-document.vue";var d=l.exports,c=n("./node_modules/pdfjs-dist/build/pdf.js"),u=n.n(c);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f={name:"pdf-document",mixins:[i.a],props:["config","document"],components:{},data:function(){return{progressTotal:null,progressCurrent:null,ready:!1,pdf:null,numPages:null,pdfPages:[]}},created:function(){"application/pdf"===this.document.filetype&&(u.a.GlobalWorkerOptions.workerSrc=this.config.resources.pdfjsWorker,console.log(this.config.resources.pdfjsWorker,u.a),this.loadDocument())},mounted:function(){var e=this;this.document.new&&window.setTimeout(function(){return e.$emit("notnew")},2e3)},computed:{pages:function(){return"application/pdf"===this.document.filetype?this.pdfPages:this.document.pages}},methods:{loadDocument:function(){var e=this,t=u.a.getDocument({url:this.document.url,isEvalSupported:!1});return t.onProgress=function(t){e.progressCurrent=t.loaded,e.progressTotal=t.total},t.promise.then(function(t){e.workingState=null,e.ready=!0,e.pdf=t,e.numPages=e.pdf.pdfInfo.numPages,function(e){return p(Array(e).keys())}(e.numPages).map(function(e){return e+1}).forEach(function(t){e.pdfPages.push({pageNum:t,url:null}),e.loadPage(t)})})},loadPage:function(e){var t=this;return this.pdf.getPage(e).then(function(n){var o=n.getViewport(1),r=120/o.height,i=Math.round(o.width*r),a=t.getNewCanvas(i,120),s=a.getContext("2d");n.render({canvasContext:s,viewport:n.getViewport(r)}).then(function(){t.pdfPages[e-1].url=a.toDataURL("image/png"),s=null,a=null})})},getNewCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},drawRotated:function(e,t,n){t.translate(e.width/2,e.height/2),t.rotate(Math.PI/2),t.drawImage(n,-n.width/2,-n.height/2),t.rotate(-Math.PI/2),t.translate(-e.width/2,-e.height/2)},imageDataToImageDataUrl:function(e,t,n){var o=this.getNewCanvas(t,n);return o.getContext("2d").putImageData(e,0,0),o.toDataURL("image/png")},prepareImage:function(){var e=this;return new Promise(function(t,n){var o=new window.Image;o.onload=function(){if(o.naturalWidth>o.naturalHeight){var n=e.getNewCanvas(o.naturalHeight,o.naturalWidth),r=n.getContext("2d");e.drawRotated(n,r,o),t(n.toDataURL("image/jpeg"))}else e.image=o,t(e.image)},o.src=window.URL.createObjectURL(e.file)})}}},g=(n("../froide/frontend/javascript/components/docupload/fullpdf-document.vue?vue&type=style&index=0&id=3ccd255c&lang=scss&scoped=true&"),Object(s.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document mb-3"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("small",[e._v(e._s(e.document.name))])]),e._v(" "),n("div",{staticClass:"card-body",class:{"is-new":e.document.new}},[e.document.uploading?n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",class:{"progress-bar-animated progress-bar-striped":null===e.document.progressPercent},style:{width:e.document.progress?e.document.progressPercentLabel:"100%"},attrs:{role:"progressbar","aria-valuenow":e.document.progressPercent?e.document.progressPercent:0,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e(),e._v(" "),n("ol",{staticClass:"pages"},e._l(e.pages,function(t){return n("li",{key:t.pageNum,staticClass:"page"},[n("a",{attrs:{href:e.document.site_url,target:"_blank"}},[t.url?n("img",{staticClass:"page-image",attrs:{src:t.url,alt:""}}):e._e()]),e._v(" "),n("div",{staticClass:"text-center"},[n("span",[e._v(e._s(t.pageNum))])])])}),0)])])])},[],!1,null,"3ccd255c",null));g.options.__file="fullpdf-document.vue";var m=g.exports,h=n("./node_modules/vuedraggable/dist/vuedraggable.js"),v=n.n(h),b=n("./node_modules/exif-js/exif.js"),y=n.n(b),w={name:"image-page",props:["page","pageCount"],data:function(){return{width:null,height:null}},computed:{pageStyle:function(){var e=(this.page.rotate||0)+(this.page.implicitRotate||0);return{transform:"rotate(".concat(e,"deg)")}},pageContainerStyle:function(){var e=this.page.rotate||0,t={};return this.page.width&&(t.height=e%180!=0?this.page.height+"px":this.page.width+"px"),t},pageNum:function(){return this.page.pageNum},isLast:function(){return this.page.pageNum===this.pageCount}},methods:{splitPages:function(){this.$emit("splitpages",this.page.pageNum)},rotatePage:function(){this.$emit("pageupdated",{pageNum:this.pageNum,data:{rotate:((this.page.rotate||0)+90)%360}})},imageLoaded:function(e){var t=e.target.width,n=e.target.height;if(void 0===this.page.exif){var o=this;y.a.getData(e.target,function(){var e={exif:!0,width:t,height:n},r=y.a.getTag(this,"Orientation");6===r?e.implicitRotate=90:8===r?e.implicitRotate=270:3===r&&(e.implicitRotate=180),o.width>o.height&&e.implicitRotate%180==0&&(e.needsRotation=!0),o.$emit("pageupdated",{pageNum:o.pageNum,data:e})})}}}},_=(n("../froide/frontend/javascript/components/docupload/image-page.vue?vue&type=style&index=0&id=54e2cfd4&lang=scss&scoped=true&"),Object(s.a)(w,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"scol",style:e.pageContainerStyle},[n("div",{staticClass:"rotation-wrapper-outer"},[n("div",{staticClass:"rotation-wrapper-inner"},[e.page.url?n("img",{staticClass:"page-image",style:e.pageStyle,attrs:{src:e.page.url,alt:""},on:{load:e.imageLoaded}}):e._e()])])])]),e._v(" "),n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"scol"},[n("div",{staticClass:"text-left"},[n("button",{staticClass:"btn btn-sm text-muted small",class:{"btn-info":e.page.needsRotation},on:{click:e.rotatePage}},[n("span",{staticClass:"fa fa-rotate-right"})])])]),e._v(" "),n("div",{staticClass:"scol"},[n("div",{staticClass:"text-center"},[e._v("\n        "+e._s(e.page.pageNum)+"\n      ")])]),e._v(" "),n("div",{staticClass:"scol"},[e.isLast?e._e():n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-sm text-muted small",on:{click:e.splitPages}},[n("span",{staticClass:"fa fa-scissors"})])])])]),e._v(" "),e.page.uploading?n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",class:{"progress-bar-animated progress-bar-striped":null===e.page.progressPercent},style:{width:e.page.progress?e.page.progressPercentLabel:"100%"},attrs:{role:"progressbar","aria-valuenow":e.page.progressPercent?e.page.progressPercent:0,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()])},[],!1,null,"54e2cfd4",null));_.options.__file="image-page.vue";var x=_.exports;var C={name:"image-document",mixins:[i.a],props:["config","document"],components:{draggable:v.a,ImagePage:x},data:function(){return{progressTotal:null,progressCurrent:null,converting:!1}},mounted:function(){var e=this;this.document.new&&window.setTimeout(function(){return e.$emit("notnew")},2e3)},computed:{numPages:function(){return this.pages.length},pages:{get:function(){return this.document.pages},set:function(e){this.$emit("pageschanged",e)}},documentName:{get:function(){return this.document.name},set:function(e){this.$emit("namechanged",e)}},anyUploads:function(){return this.pages.some(function(e){return e.uploading})}},methods:{splitPages:function(e){this.$emit("splitpages",e)},convertImages:function(){var e=this;this.converting=!0;var t={action:"convert_to_pdf",title:this.document.name,images:this.pages.map(function(e){return{id:e.attachment.id,rotate:(e.rotate||0)+(e.implicitRotate||0)}})};(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return window.fetch(e,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify(t)}).then(function(e){return e.json()})})(this.$root.url.convertAttachments,t,this.$root.csrfToken).then(function(t){e.$emit("imagesconverted",{document:t,imageDoc:e.document})})}}},S=(n("../froide/frontend/javascript/components/docupload/image-document.vue?vue&type=style&index=0&id=4254616a&lang=scss&scoped=true&"),Object(s.a)(C,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document mb-3"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[e._v("\n      "+e._s(e.i18n._("newDocumentPageCount",{count:e.numPages}))+"\n    ")]),e._v(" "),n("div",{staticClass:"card-body",class:{"is-new":e.document.new}},[e.converting?n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",class:{"progress-bar-animated progress-bar-striped":null===e.progressCurrent},style:{width:e.progressCurrent?e.progressCurrent:"100%"},attrs:{role:"progressbar","aria-valuenow":e.progressCurrent?e.progressCurrent:0,"aria-valuemin":"0","aria-valuemax":"100"}})]):n("div",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"page-label"}},[e._v(e._s(e.i18n.documentTitle))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.documentName,expression:"documentName"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.i18n.documentTitlePlaceholder},domProps:{value:e.documentName},on:{input:function(t){t.target.composing||(e.documentName=t.target.value)}}})]),e._v(" "),n("draggable",{staticClass:"pages",on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.pages,callback:function(t){e.pages=t},expression:"pages"}},e._l(e.pages,function(t){return n("image-page",{key:t.pageNum,attrs:{page:t,"page-count":e.pages.length},on:{pageupdated:function(t){e.$emit("pageupdated",Object.assign({},{document:e.document},t))},splitpages:e.splitPages}})}),1)],1),e._v(" "),n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"col-md-8 text-muted"},[e._v("\n          "+e._s(e.i18n.imageDocumentExplanation)+" \n        ")]),e._v(" "),n("div",{staticClass:"col-md-4"},[n("p",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.anyUploads||e.converting},on:{click:e.convertImages}},[e._v("\n              "+e._s(e.i18n.convertImages)+"\n            ")])])])])])])])},[],!1,null,"4254616a",null));S.options.__file="image-document.vue";var P=S.exports;function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I={name:"document-uploader",mixins:[i.a],props:["config","message"],components:{PdfDocument:d,ImageDocument:P,FullpdfDocument:m},data:function(){return{documents:[],otherAttachments:[],showOther:!1,imageDocId:0}},mounted:function(){this.$root.url=this.config.url,this.$root.csrfToken=document.querySelector("[name=csrfmiddlewaretoken]").value;var e=T(this.buildDocuments(),2),t=e[0],n=e[1];this.documents=t,this.otherAttachments=n},computed:{isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},methods:{buildDocuments:function(){var e=this,t=[],n=[],o=[];return this.message.attachments.forEach(function(r){e.isDocumentAttachment(r)?e.config.settings.pdf_filetypes.includes(r.filetype)?t.push({id:r.id,name:r.name,url:r.file_url,filetype:"application/pdf",site_url:r.site_url,type:"pdf",pending:r.pending,pages:null,component:"pdf-document",attachment:r}):n.push({id:r.id,name:r.name,url:r.file_url,attachment:r}):o.push({id:r.id,name:r.name,filetype:r.filetype,pending:r.pending,url:r.site_url,attachment:r})}),n.length>0&&(n=this.prepareImages(n),t.unshift(this.getNewImageDoc({pages:n,new:!1}))),[t,o]},isDocumentAttachment:function(e){return null===e.converted&&(!!this.config.settings.document_filetypes.includes(e.filetype)||!!(this.config.settings.image_filetypes.includes(e.filetype)&&e.size<=51200))},prepareImages:function(e){return e=e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}).map(function(e,t){return e.pageNum=t+1,e})},pagesChanged:function(e,t){t.forEach(function(e,t){e.pageNum=t+1}),e.pages=t},loadPdf:function(e){e.component="fullpdf-document"},pageUpdated:function(e){var t=e.document,n=e.pageNum,r=e.data,i=t.pages[n-1];for(var a in r)o.a.set(i,a,r[a])},splitPages:function(e,t){var n=e.pages.slice(t);n.forEach(function(e,t){e.pageNum=t+1}),e.pages=e.pages.slice(0,t),e.new=!0,this.documents=j(this.documents.filter(function(e){return"imagedoc"===e.type})).concat([this.getNewImageDoc({pages:n})],j(this.documents.filter(function(e){return"pdf"===e.type})))},getNewImageDoc:function(e){return this.imageDocId+=1,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){D(e,t,n[t])})}return e}({id:"imagedoc"+this.imageDocId,filetype:null,type:"imagedoc",new:!0,name:"",component:"image-document"},e)},imagesConverted:function(e){var t=e.document,n=e.imageDoc;this.documents=this.documents.filter(function(e){return e.id!==n.id}),this.documents=j(this.documents.filter(function(e){return"imagedoc"===e.type})).concat([{id:t.id,name:t.name,url:t.file_url,filetype:"application/pdf",site_url:t.site_url,type:"pdf",new:!0,pages:null,pending:!0,component:"pdf-document",attachment:t}],j(this.documents.filter(function(e){return"pdf"===e.type})))},documentUpdated:function(e,t){if(null!==t)for(var n in t)e[n]=t[n];else this.documents=this.documents.filter(function(t){return t.id!==e.id})},uploadPage:function(e){var t=this;return e.progress=0,e.uploading=!0,e.progressTotal=null,new Promise(function(n,o){var r=new FormData;r.append("".concat(t.config.settings.attachment_form_prefix,"-files"),e.file);var i=new window.XMLHttpRequest;i.open("POST",t.config.url.addAttachment),i.setRequestHeader("X-CSRFToken",t.$root.csrfToken),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i.upload?i.upload:i).addEventListener("progress",function(t){t.lengthComputable?(e.progress=t.loaded,e.progressTotal=t.total,e.progressPercent=Math.min(100,Math.round(e.progress/e.progressTotal*100)),e.progressPercentLabel=e.progressPercent+"%"):(e.progress=null,e.progressPercent=null)}),i.onreadystatechange=function(){if(4===i.readyState){var t,o;e.uploading=!1;try{t=JSON.parse(i.responseText)}catch(t){return e.failed=!0,n(null)}return o=1===t.added.length?t.added[0]:t.updated[0],e.url&&0===e.url.indexOf("blob:")&&window.URL.revokeObjectURL(e.url),e.url=o.file_url,e.site_url=o.site_url,e.filetype=o.filetype,e.id=o.id,e.attachment=o,n(e)}},i.send(r)})},filesSelected:function(e){for(var t=this,n=e.target.files,o=[],r=[],i=0;i<n.length;i+=1){var a=n[i];if(this.config.settings.pdf_filetypes.includes(a.type))o.push({id:"".concat(a.name,"-").concat(a.lastModified,"-").concat(a.size),filetype:a.type,file:a,size:a.size,progress:0,type:"pdf",new:!0,name:a.name,component:"pdf-document",url:window.URL.createObjectURL(a)});else if(this.config.settings.image_filetypes.includes(a.type)){var s={id:"".concat(a.name,"-").concat(a.lastModified,"-").concat(a.size),name:a.name,filetype:a.type,file:a,size:a.size,type:"image",url:window.URL.createObjectURL(a)};r.push(s),o.push(s)}else o.push({id:"".concat(a.name,"-").concat(a.lastModified,"-").concat(a.size),name:a.name,file:a,filetype:a.type,type:"other"})}if(r.length>0){r=this.prepareImages(r);var l=this.documents.filter(function(e){return"imagedoc"===e.type});if(0===l.length){r[0];this.documents=[this.getNewImageDoc({pages:r})].concat(j(this.documents))}else{var d=l[0];d.pages=j(d.pages).concat(j(r.map(function(e,t){return e.pageNum=d.pages.length+t+1,e})))}}this.otherAttachments=j(this.otherAttachments).concat(j(o.filter(function(e){return"other"===e.type}))),this.documents=j(o.filter(function(e){return"pdf"===e.type})).concat(j(this.documents));var c=Promise.resolve();o.forEach(function(e){c.uploading=!0,c=c.then(function(){return t.uploadPage(e)})})}}},E=(n("../froide/frontend/javascript/components/docupload/document-uploader.vue?vue&type=style&index=0&id=59b110f2&lang=scss&scoped=true&"),Object(s.a)(I,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-uploader mb-3 mt-3"},[n("div",{staticClass:"upload"},[n("label",{class:{"btn btn-primary isMobile":e.isMobile}},[n("i",{staticClass:"fa fa-cloud-upload"}),e._v(" "),e.isMobile?n("span",[e._v("\n        "+e._s(e.i18n.takePicture)+"\n      ")]):n("span",[e._v("\n        "+e._s(e.i18n.uploadPdfOrPicture)+"\n        "),n("br")]),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],attrs:{type:"file",accept:"image/*,application/pdf",multiple:""},on:{change:e.filesSelected}})])]),e._v(" "),n("div",{staticClass:"documents"},e._l(e.documents,function(t){return n(t.component,{key:t.id,tag:"component",attrs:{document:t,config:e.config},on:{pageschanged:function(n){e.pagesChanged(t,n)},loadpdf:function(n){e.loadPdf(t)},splitpages:function(n){e.splitPages(t,n)},imagesconverted:e.imagesConverted,namechanged:function(e){t.name=e},docupdated:function(n){e.documentUpdated(t,n)},pageupdated:e.pageUpdated,notnew:function(e){t.new=!1}}})}),1),e._v(" "),e.otherAttachments.length>0?n("div",[n("p",[n("button",{staticClass:"btn btn-link",on:{click:function(t){e.showOther=!e.showOther}}},[e._v("\n        "+e._s(e.i18n.showIrrelevantAttachments)+"\n      ")])]),e._v(" "),e.showOther?n("ul",e._l(e.otherAttachments,function(t){return n("li",{key:t.name},[n("a",{attrs:{href:t.url,target:"_blank"}},[e._v("\n          "+e._s(t.name)+"\n        ")])])}),0):e._e()]):e._e()])},[],!1,null,"59b110f2",null));E.options.__file="document-uploader.vue";var O=E.exports;function N(e){new o.a({components:{DocumentUploader:O},render:Object(r.a)(e,O)}).$mount(e)}o.a.config.productionTip=!1;for(var F=document.querySelectorAll(".document-uploader"),M=0;M<F.length;M+=1)N(F[M]);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#document-uploader");e&&N(e)})},"../froide/frontend/javascript/lib/i18n-mixin.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=new RegExp(/\$\{(\w+)\}/g),i=document.querySelector("html").lang,a={computed:{i18n:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({_replacer:function(e){return function(t,n,o,r){return"count"===n&&e.count>=1e3?e.count.toLocaleString(i):e[n]}},_:function(e,t){var n=this[e];return Array.isArray(n)?void 0!==t.count&&(t.count>1||0===t.count)?n[1].replace(r,this._replacer(t)):n[0].replace(r,this._replacer(t)):n.replace(r,this._replacer(t))}},this.config.i18n)}}};t.a=a},"../froide/frontend/javascript/lib/vue-helper.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}function i(e,t){return function(){return t(e.tag,{domProps:{innerHTML:e.innerHTML}})}}function a(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=function(e){for(var t=e.attributes,n={},o=0;o<t.length;o+=1){var i=t[o];if(("v"!==i.name[0]||"-"!==i.name[1])&&"id"!==i.name&&"class"!==i.name){var a=i.value,s=i.name;":"===i.name[0]&&(s=i.name.substring(1),"{"!==i.value[0]&&"["!==i.value[0]||(a=JSON.parse(i.value)),"true"===i.value&&(a=!0)),n[r(s)]=a}}return n}(e),a=function(e){for(var t=e.querySelectorAll("[slot]"),n={},o=0;o<t.length;o+=1){var r=t[o];n[r.attributes.slot.value]={tag:r.tagName.toLowerCase(),innerHTML:r.innerHTML}}return n}(e),s=function(e){var t={};if(e.id&&(t.attrs={id:e.id}),e.className){var n=e.className.split(" ");t.class={},n.forEach(function(e){t.class[e.trim()]=!0})}return t}(e);return function(e){var r=function(e,t){var n={};for(var o in e)n[o]=i(e[o],t);return n}(a,e);return e(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({props:n,scopedSlots:r},s))}}n.d(t,"a",function(){return a})},"./node_modules/exif-js/exif.js":function(e,t,o){var r;(function(){var o=!1,i=function(e){return e instanceof i?e:this instanceof i?void(this.EXIFwrapped=e):new i(e)};e.exports&&(t=e.exports=i),t.EXIF=i;var a=i.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=i.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},l=i.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},d=i.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=i.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function u(e){return!!e.exifdata}function p(e,t){function n(n){var r=f(n);e.exifdata=r||{};var a=function(e){var t=new DataView(e);o&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return o&&console.log("Not a valid JPEG"),!1;var n=2,r=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<r;){if(i(t,n)){var a=t.getUint8(n+7);a%2!=0&&(a+=1),0===a&&(a=4);var s=n+8+a,l=t.getUint16(n+6+a);return m(e,s,l)}n++}}(n);if(e.iptcdata=a||{},i.isXmpEnabled){var s=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);o&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return o&&console.log("Not a valid JPEG"),!1;var n=2,r=e.byteLength,i=new DOMParser;for(;n<r-4;){if("http"==b(t,n,4)){var a=n-1,s=t.getUint16(n-2)-1,l=b(t,a,s),d=l.indexOf("xmpmeta>")+8,c=(l=l.substring(l.indexOf("<x:xmpmeta"),d)).indexOf("x:xmpmeta")+10;l=l.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+l.slice(c);var u=i.parseFromString(l,"text/xml");return _(u)}n++}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),o=n.length,r=new ArrayBuffer(o),i=new Uint8Array(r),a=0;a<o;a++)i[a]=n.charCodeAt(a);return r}(e.src));else if(/^blob\:/i.test(e.src)){(a=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,function(e){a.readAsArrayBuffer(e)})}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var a;(a=new FileReader).onload=function(e){o&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function f(e){var t=new DataView(e);if(o&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return o&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=e.byteLength;r<i;){if(255!=t.getUint8(r))return o&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),o&&console.log(n),225==n)return o&&console.log("Found 0xFFE1 marker"),y(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}var g={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function m(e,t,n){for(var o,r,i,a,s=new DataView(e),l={},d=t;d<t+n;)28===s.getUint8(d)&&2===s.getUint8(d+1)&&(a=s.getUint8(d+2))in g&&((i=s.getInt16(d+3))+5,r=g[a],o=b(s,d+5,i),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(o):l[r]=[l[r],o]:l[r]=o),d++;return l}function h(e,t,n,r,i){var a,s,l,d=e.getUint16(n,!i),c={};for(l=0;l<d;l++)a=n+12*l+2,!(s=r[e.getUint16(a,!i)])&&o&&console.log("Unknown tag: "+e.getUint16(a,!i)),c[s]=v(e,a,t,n,i);return c}function v(e,t,n,o,r){var i,a,s,l,d,c,u=e.getUint16(t+2,!r),p=e.getUint32(t+4,!r),f=e.getUint32(t+8,!r)+n;switch(u){case 1:case 7:if(1==p)return e.getUint8(t+8,!r);for(i=p>4?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint8(i+l);return a;case 2:return b(e,i=p>4?f:t+8,p-1);case 3:if(1==p)return e.getUint16(t+8,!r);for(i=p>2?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint16(i+2*l,!r);return a;case 4:if(1==p)return e.getUint32(t+8,!r);for(a=[],l=0;l<p;l++)a[l]=e.getUint32(f+4*l,!r);return a;case 5:if(1==p)return d=e.getUint32(f,!r),c=e.getUint32(f+4,!r),(s=new Number(d/c)).numerator=d,s.denominator=c,s;for(a=[],l=0;l<p;l++)d=e.getUint32(f+8*l,!r),c=e.getUint32(f+4+8*l,!r),a[l]=new Number(d/c),a[l].numerator=d,a[l].denominator=c;return a;case 9:if(1==p)return e.getInt32(t+8,!r);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+4*l,!r);return a;case 10:if(1==p)return e.getInt32(f,!r)/e.getInt32(f+4,!r);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+8*l,!r)/e.getInt32(f+4+8*l,!r);return a}}function b(e,t,o){var r="";for(n=t;n<t+o;n++)r+=String.fromCharCode(e.getUint8(n));return r}function y(e,t){if("Exif"!=b(e,t,4))return o&&console.log("Not valid EXIF data! "+b(e,t,4)),!1;var n,r,i,u,p,f=t+6;if(18761==e.getUint16(f))n=!1;else{if(19789!=e.getUint16(f))return o&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(f+2,!n))return o&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var g=e.getUint32(f+4,!n);if(g<8)return o&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(f+4,!n)),!1;if((r=h(e,f,f+g,s,n)).ExifIFDPointer)for(i in u=h(e,f,f+r.ExifIFDPointer,a,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":u[i]=c[i][u[i]];break;case"ExifVersion":case"FlashpixVersion":u[i]=String.fromCharCode(u[i][0],u[i][1],u[i][2],u[i][3]);break;case"ComponentsConfiguration":u[i]=c.Components[u[i][0]]+c.Components[u[i][1]]+c.Components[u[i][2]]+c.Components[u[i][3]]}r[i]=u[i]}if(r.GPSInfoIFDPointer)for(i in p=h(e,f,f+r.GPSInfoIFDPointer,l,n)){switch(i){case"GPSVersionID":p[i]=p[i][0]+"."+p[i][1]+"."+p[i][2]+"."+p[i][3]}r[i]=p[i]}return r.thumbnail=function(e,t,n,o){var r=function(e,t,n){var o=e.getUint16(t,!n);return e.getUint32(t+2+12*o,!n)}(e,t+n,o);if(!r)return{};if(r>e.byteLength)return{};var i=h(e,t,t+r,d,o);if(i.Compression)switch(i.Compression){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=t+i.JpegIFOffset,s=i.JpegIFByteCount;i.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i.Compression)}else 2==i.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}(e,f,g,n),r}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var o=e.attributes.item(n);t["@attributes"][o.nodeName]=o.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes.item(r),a=i.nodeName;if(null==t[a])t[a]=w(i);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(w(i))}}return t}function _(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var o=e.children.item(n),r=o.attributes;for(var i in r){var a=r[i],s=a.nodeName,l=a.nodeValue;void 0!==s&&(t[s]=l)}var d=o.nodeName;if(void 0===t[d])t[d]=w(o);else{if(void 0===t[d].push){var c=t[d];t[d]=[],t[d].push(c)}t[d].push(w(o))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}i.enableXmp=function(){i.isXmpEnabled=!0},i.disableXmp=function(){i.isXmpEnabled=!1},i.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(u(e)?t&&t.call(e):p(e,t),!0)},i.getTag=function(e,t){if(u(e))return e.exifdata[t]},i.getIptcTag=function(e,t){if(u(e))return e.iptcdata[t]},i.getAllTags=function(e){if(!u(e))return{};var t,n=e.exifdata,o={};for(t in n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o},i.getAllIptcTags=function(e){if(!u(e))return{};var t,n=e.iptcdata,o={};for(t in n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o},i.pretty=function(e){if(!u(e))return"";var t,n=e.exifdata,o="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?o+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":o+=t+" : ["+n[t].length+" values]\r\n":o+=t+" : "+n[t]+"\r\n");return o},i.readFromBinaryFile=function(e){return f(e)},void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}).call(this)},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/document-uploader.vue?vue&type=style&index=0&id=59b110f2&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/fullpdf-document.vue?vue&type=style&index=0&id=3ccd255c&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/image-document.vue?vue&type=style&index=0&id=4254616a&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/image-page.vue?vue&type=style&index=0&id=54e2cfd4&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/lib/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!../froide/frontend/javascript/components/docupload/pdf-document.vue?vue&type=style&index=0&id=893937d0&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/sortablejs/Sortable.js":function(e,t,n){var o,r;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(i){"use strict";void 0===(r="function"==typeof(o=i)?o.call(t,n,t,e):o)||(e.exports=r)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,o,r,i,a,s,l,d,c,u,p,f,g,m,h,v,b,y,w,_,x,C,S,P=[],D=!1,j=!1,T=!1,I=[],E=!1,O=!1,N=/\s+/g,F="Sortable"+(new Date).getTime(),M=window,L=M.document,A=M.parseInt,k=M.setTimeout,R=M.jQuery||M.Zepto,U=M.Polymer,B={capture:!1,passive:!1},G=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),X=!!navigator.userAgent.match(/Edge/i),Y=X||G?"cssFloat":"float",$="draggable"in L.createElement("div"),H=function(){if(G)return!1;var e=L.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),W=!1,V=!1,q=Math.abs,z=Math.min,J=[],K=function(e,t){var n=he(e),o=A(n.width),r=Ce(e,0,t),i=Ce(e,1,t),a=r&&he(r),s=i&&he(i),l=a&&A(a.marginLeft)+A(a.marginRight)+Fe(r).width,d=s&&A(s.marginLeft)+A(s.marginRight)+Fe(i).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=o&&"none"===n[Y]||i&&"none"===n[Y]&&l+d>o)?"vertical":"horizontal"},Z=function(e,t,n,o,r){var i=Fe(n),a="vertical"===o?i.left:i.top,s="vertical"===o?i.right:i.bottom,l="vertical"===o?e:t;return a<l&&l<s},Q=function(e,t){if(!e||!e.getBoundingClientRect)return M;var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=he(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===L.body)return M;if(o||t)return n;o=!0}}}while(n=n.parentNode);return M},ee=Te(function(e,t,n,o){if(t.scroll){var r=n?n[F]:window,i=t.scrollSensitivity,a=t.scrollSpeed,c=e.clientX,u=e.clientY,p=(window.innerWidth,window.innerHeight,!1);l!==n&&(te(),s=t.scroll,d=t.scrollFn,!0===s&&(s=Q(n,!0),l=s));var f=0,g=s;do{var m,h,v,y,w,_,x,C,S,j=g,T=Fe(j),I=T.top,E=T.bottom,O=T.left,N=T.right,A=T.width,k=T.height;if(j!==M?(m=j.scrollWidth,h=j.scrollHeight,v=he(j),_=A<m&&("auto"===v.overflowX||"scroll"===v.overflowX),x=k<h&&("auto"===v.overflowY||"scroll"===v.overflowY),C=j.scrollLeft,S=j.scrollTop):(m=L.documentElement.scrollWidth,h=L.documentElement.scrollHeight,v=he(L.documentElement),_=A<m&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),x=k<h&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY),C=L.documentElement.scrollLeft,S=L.documentElement.scrollTop),y=_&&(q(N-c)<=i&&C+A<m)-(q(O-c)<=i&&!!C),w=x&&(q(E-u)<=i&&S+k<h)-(q(I-u)<=i&&!!S),!P[f])for(var R=0;R<=f;R++)P[R]||(P[R]={});P[f].vx==y&&P[f].vy==w&&P[f].el===j||(P[f].el=j,P[f].vx=y,P[f].vy=w,clearInterval(P[f].pid),!j||0==y&&0==w||(p=!0,P[f].pid=setInterval(function(){o&&0===this.layer&&ce.active._emulateDragOver(!0);var t=P[this.layer].vy?P[this.layer].vy*a:0,n=P[this.layer].vx?P[this.layer].vx*a:0;"function"==typeof d&&"continue"!==d.call(r,n,t,e,b,P[this.layer].el)||(P[this.layer].el===M?M.scrollTo(M.pageXOffset+n,M.pageYOffset+t):(P[this.layer].el.scrollTop+=t,P[this.layer].el.scrollLeft+=n))}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&g!==M&&(g=Q(g,!1)));D=p}},30),te=function(){P.forEach(function(e){clearInterval(e.pid)}),P=[]},ne=function(e){function t(e,n){return function(o,r,i,a){var s=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var l=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},oe=function(t){e&&e.parentNode&&e.parentNode[F]&&e.parentNode[F]._computeIsAligned(t)},re=function(e,t){for(var n=t;!n[F];)n=n.parentNode;return e===n},ie=function(e,t,n){for(var o=e.parentNode;o&&!o[F];)o=o.parentNode;o&&o[F][n](Ie(t,{artificialBubble:!0}))},ae=function(){!H&&n&&he(n,"display","none")},se=function(){!H&&n&&he(n,"display","")};L.addEventListener("click",function(e){if(T)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),T=!1,!1},!0);var le,de=function(t){if(e){var n=function(e,t){for(var n=0;n<I.length;n++)if(!I[n].children.length){var o=Fe(I[n]),r=I[n][F].options.emptyInsertThreshold,i=e>=o.left-r&&e<=o.right+r,a=t>=o.top-r&&t<=o.bottom+r;if(i&&a)return I[n]}}(t.clientX,t.clientY);n&&n[F]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:n,rootEl:n})}};function ce(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Ie({},t),e[F]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return K(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:A(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ce.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var o in n)!(o in t)&&(t[o]=n[o]);for(var r in ne(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&$,t.supportPointer?fe(e,"pointerdown",this._onTapStart):(fe(e,"mousedown",this._onTapStart),fe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(fe(e,"dragover",this),fe(e,"dragenter",this)),I.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function ue(e,t,n,o){if(e){n=n||L;do{if(">*"===t&&e.parentNode===n||je(e,t)||o&&e===n)return e;if(e===n)break}while(e=pe(e))}return null}function pe(e){return e.host&&e!==L&&e.host.nodeType?e.host:e.parentNode}function fe(e,t,n){e.addEventListener(t,n,B)}function ge(e,t,n){e.removeEventListener(t,n,B)}function me(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(N," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(N," ")}}function he(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return L.defaultView&&L.defaultView.getComputedStyle?n=L.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function ve(e){var t="";do{var n=he(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function be(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function ye(e,t,n,r,i,a,s,l,d){var c,u=(e=e||t[F]).options,p="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||G||X?(c=L.createEvent("Event")).initEvent(n,!0,!0):c=new CustomEvent(n,{bubbles:!0,cancelable:!0}),c.to=i||t,c.from=a||t,c.item=r||t,c.clone=o,c.oldIndex=s,c.newIndex=l,c.originalEvent=d,t&&t.dispatchEvent(c),u[p]&&u[p].call(e,c)}function we(e,t,n,o,r,i,a,s){var l,d,c=e[F],u=c.options.onMove;return!window.CustomEvent||G||X?(l=L.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=r||t,l.relatedRect=i||Fe(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function _e(e){e.draggable=!1}function xe(){W=!1}function Ce(t,o,r){for(var i=0,a=0,s=t.children;a<s.length;){if("none"!==s[a].style.display&&s[a]!==n&&s[a]!==e&&ue(s[a],r.draggable,t,!1)){if(i===o)return s[a];i++}a++}return null}function Se(e){var t=e.lastElementChild;return t===n&&(t=e.children[e.childElementCount-2]),t||null}function Pe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function De(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==o&&n++;return n}function je(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function Te(e,t){return function(){if(!le){var n=arguments,o=this;le=k(function(){1===n.length?e.call(o,n[0]):e.apply(o,n),le=void 0},t)}}}function Ie(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ee(e){return U&&U.dom?U.dom(e).cloneNode(!0):R?R(e).clone(!0)[0]:e.cloneNode(!0)}function Oe(e){return k(e,0)}function Ne(e){return clearTimeout(e)}function Fe(e,t,n){if(e.getBoundingClientRect||e===M){var o,r,i,a,s,l,d;if(e!==M?(r=(o=e.getBoundingClientRect()).top,i=o.left,a=o.bottom,s=o.right,l=o.height,d=o.width):(r=0,i=0,a=window.innerHeight,s=window.innerWidth,l=window.innerHeight,d=window.innerWidth),n&&e!==M){if(t=t||e.parentNode,!G)do{if(t&&t.getBoundingClientRect&&"none"!==he(t,"transform")){var c=t.getBoundingClientRect();r-=c.top+A(he(t,"border-top-width")),i-=c.left+A(he(t,"border-left-width")),a=r+o.height,s=i+o.width;break}}while(t=t.parentNode);var u=ve(e),p=u&&u.a,f=u&&u.d;u&&(a=(r/=f)+(l/=f),s=(i/=p)+(d/=p))}return{top:r,left:i,bottom:a,right:s,width:d,height:l}}}return L.addEventListener("dragover",de),L.addEventListener("mousemove",de),ce.prototype={constructor:ce,_computeIsAligned:function(t){var o;if(n&&!H?(ae(),o=L.elementFromPoint(t.clientX,t.clientY),se()):o=t.target,o=ue(o,this.options.draggable,this.el,!1),!V&&e&&e.parentNode===this.el){for(var r=this.el.children,i=0;i<r.length;i++)ue(r[i],this.options.draggable,this.el,!1)&&r[i]!==o&&(r[i].sortableMouseAligned=Z(t.clientX,t.clientY,r[i],this._getDirection(t,null),this.options));ue(o,this.options.draggable,this.el,!0)||(w=null),V=!0,k(function(){V=!1},30)}},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,o=this,r=this.el,i=this.options,s=i.preventOnFilter,l=t.type,d=t.touches&&t.touches[0],c=(d||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,p=i.filter;if(function(e){J.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&J.push(o)}}(r),(!G||t.artificialBubble||re(r,c))&&!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||i.disabled||u.isContentEditable))if(c=ue(c,i.draggable,r,!1)){if(a!==c){if(n=De(c,i.draggable),"function"==typeof p){if(p.call(this,t,c,this))return ye(o,u,"filter",c,r,r,n),void(s&&t.cancelable&&t.preventDefault())}else if(p&&(p=p.split(",").some(function(e){if(e=ue(u,e.trim(),r,!1))return ye(o,e,"filter",c,r,r,n),!0})))return void(s&&t.cancelable&&t.preventDefault());i.handle&&!ue(u,i.handle,r,!1)||this._prepareDragStart(t,d,c,n)}}else G&&ie(r,t,"_onTapStart")}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var o=t.clientX,r=t.clientY,i=L.elementFromPoint(o,r),a=this;if(n||X||G){ee(t,a.options,i,n);var s=Q(i,!0);!D||g&&o===m&&r===h||(g&&clearInterval(g),g=setInterval(function(){if(e){var i=Q(L.elementFromPoint(o,r),!0);i!==s&&(s=i,te(),ee(t,a.options,s,n))}},10),m=o,h=r)}else{if(!a.options.bubbleScroll||Q(i,!0)===window)return void te();ee(t,a.options,Q(i,!1),!1)}}},_prepareDragStart:function(n,o,s,l){var d,u=this,f=u.el,g=u.options,m=f.ownerDocument;s&&!e&&s.parentNode===f&&(r=f,t=(e=s).parentNode,i=e.nextSibling,a=s,p=g.group,c=l,v={target:e,clientX:(o||n).clientX,clientY:(o||n).clientY},this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",d=function(){u._disableDelayedDrag(),e.draggable=u.nativeDraggable,u._triggerDragStart(n,o),ye(u,r,"choose",e,r,r,c),me(e,g.chosenClass,!0)},g.ignore.split(",").forEach(function(t){be(e,t.trim(),_e)}),g.supportPointer?(fe(m,"pointerup",u._onDrop),fe(m,"pointercancel",u._onDrop)):(fe(m,"mouseup",u._onDrop),fe(m,"touchend",u._onDrop),fe(m,"touchcancel",u._onDrop)),g.delay?(fe(m,"mouseup",u._disableDelayedDrag),fe(m,"touchend",u._disableDelayedDrag),fe(m,"touchcancel",u._disableDelayedDrag),fe(m,"mousemove",u._delayedDragTouchMoveHandler),fe(m,"touchmove",u._delayedDragTouchMoveHandler),g.supportPointer&&fe(m,"pointermove",u._delayedDragTouchMoveHandler),u._dragStartTimer=k(d,g.delay)):d())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;z(q(t.clientX-this._lastX),q(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ge(e,"mouseup",this._disableDelayedDrag),ge(e,"touchend",this._disableDelayedDrag),ge(e,"touchcancel",this._disableDelayedDrag),ge(e,"mousemove",this._delayedDragTouchMoveHandler),ge(e,"touchmove",this._delayedDragTouchMoveHandler),ge(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?fe(L,"pointermove",this._onTouchMove):fe(L,n?"touchmove":"mousemove",this._onTouchMove):(fe(e,"dragend",this),fe(r,"dragstart",this._onDragStart));try{L.selection?Oe(function(){L.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t){if(j=!1,r&&e){this.nativeDraggable&&(fe(L,"dragover",this._handleAutoScroll),fe(L,"dragover",oe));var n=this.options;!t&&me(e,n.dragClass,!1),me(e,n.ghostClass,!0),he(e,"transform",""),ce.active=this,t&&this._appendGhost(),ye(this,r,"start",e,r,r,c)}else this._nulling()},_emulateDragOver:function(t){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY&&!t)return;this._lastX=b.clientX,this._lastY=b.clientY,ae();for(var n=L.elementFromPoint(b.clientX,b.clientY),o=n;n&&n.shadowRoot;)o=n=n.shadowRoot.elementFromPoint(b.clientX,b.clientY);if(o)do{if(o[F])if(o[F]._onDragOver({clientX:b.clientX,clientY:b.clientY,target:n,rootEl:o})&&!this.options.dragoverBubble)break;n=o}while(o=o.parentNode);e.parentNode[F]._computeIsAligned(b),se()}},_onTouchMove:function(e){if(v){if(!e.cancelable)return;var t=this.options,o=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=n&&ve(n),s=n&&a&&a.a,l=n&&a&&a.d,d=(i.clientX-v.clientX+r.x)/(s||1),c=(i.clientY-v.clientY+r.y)/(l||1),u=e.touches?"translate3d("+d+"px,"+c+"px,0)":"translate("+d+"px,"+c+"px)";if(!ce.active&&!j){if(o&&z(q(i.clientX-this._lastX),q(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}this._handleAutoScroll(i,!0),y=!0,b=i,he(n,"webkitTransform",u),he(n,"mozTransform",u),he(n,"msTransform",u),he(n,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=Fe(e,this.options.fallbackOnBody?L.body:r,!0),o=(he(e),this.options);me(n=e.cloneNode(!0),o.ghostClass,!1),me(n,o.fallbackClass,!0),me(n,o.dragClass,!0),he(n,"box-sizing","border-box"),he(n,"margin",0),he(n,"top",t.top),he(n,"left",t.left),he(n,"width",t.width),he(n,"height",t.height),he(n,"opacity","0.8"),he(n,"position","fixed"),he(n,"zIndex","100000"),he(n,"pointerEvents","none"),o.fallbackOnBody&&L.body.appendChild(n)||r.appendChild(n)}},_onDragStart:function(t,n){var i=this,a=t.dataTransfer,s=i.options;(o=Ee(e)).draggable=!1,o.style["will-change"]="",this._hideClone(),me(o,i.options.chosenClass,!1),i._cloneId=Oe(function(){i.options.removeCloneOnHide||r.insertBefore(o,e),ye(i,r,"clone",e)}),!n&&me(e,s.dragClass,!0),n?(T=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ge(L,"mouseup",i._onDrop),ge(L,"touchend",i._onDrop),ge(L,"touchcancel",i._onDrop),ge(L,"pointercancel",i._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(i,a,e)),fe(L,"drop",i),he(e,"transform","translateZ(0)")),j=!0,i._dragStartId=Oe(i._dragStarted.bind(i,n)),fe(L,"selectstart",i)},_onDragOver:function(o){var a,s,l,d=this.el,u=o.target,g=this.options,m=g.group,h=ce.active,v=p===m,b=g.sort,P=this;if(!W&&(!G||o.rootEl||o.artificialBubble||re(d,u))){if(void 0!==o.preventDefault&&o.cancelable&&o.preventDefault(),y=!0,u=ue(u,g.draggable,d,!0),ue(o.target,null,e,!0)||u.animated)return $();if(u!==e&&(T=!1),h&&!g.disabled&&(v?b||(l=!r.contains(e)):f===this||(this.lastPutMode=p.checkPull(this,h,e,o))&&m.checkPut(this,h,e,o))){var j=this._getDirection(o,u);if(a=Fe(e),l)return this._hideClone(),t=r,i?r.insertBefore(e,i):r.appendChild(e),$();if(0===d.children.length||d.children[0]===n||function(e,t,n){var o=Fe(Se(n)),r="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?o.bottom:o.right,s="vertical"===t?o.left:o.top,l="vertical"===t?o.right:o.bottom;return i>s&&i<l&&r>a}(o,j,d)&&!e.animated){if(0!==d.children.length&&d.children[0]!==n&&d===o.target&&(u=Se(d)),u&&(s=Fe(u)),v?h._hideClone():h._showClone(this),!1!==we(r,d,e,a,u,s,o,!!u))return d.appendChild(e),t=d,S=null,H(),this._animate(a,e),u&&this._animate(s,u),$()}else if(u&&u!==e&&void 0!==u.parentNode[F]&&u!==d){var I,N=0,A=u.sortableMouseAligned,R=e.parentNode!==d,U=function(e,t){var n=Q(n,!0),o=Fe(e)[t];for(;n;){var r=Fe(n)[t];if(!("top"===t||"left"===t?o>=r:o<=r))return!0;if(n===M)break;n=Q(n,!1)}return!1}(u,"vertical"===j?"top":"left");if(w!==u&&(x=null,I=Fe(u)["vertical"===j?"top":"left"],E=!1),function(t,n,o){var r=t===e&&S||Fe(t),i=n===e&&S||Fe(n),a="vertical"===o?r.left:r.top,s="vertical"===o?r.right:r.bottom,l="vertical"===o?r.width:r.height,d="vertical"===o?i.left:i.top,c="vertical"===o?i.right:i.bottom,u="vertical"===o?i.width:i.height;return a===d||s===c||a+l/2===d+u/2}(e,u,j)&&A||R||U||g.invertSwap||"insert"===x||"swap"===x?("swap"!==x&&(O=g.invertSwap||R||D||U),N=function(t,n,o,r,i,a,s){var l=Fe(n),d="vertical"===o?t.clientY:t.clientX,c="vertical"===o?l.height:l.width,u="vertical"===o?l.top:l.left,p="vertical"===o?l.bottom:l.right,f=Fe(e),g=!1;if(!a)if(s&&C<c*r)if(!E&&(1===_?d>u+c*i/2:d<p-c*i/2)&&(E=!0),E)g=!0;else{"vertical"===o?f.top:f.left,"vertical"===o?f.bottom:f.right;if(1===_?d<u+C:d>p-C)return-1*_}else if(d>u+c*(1-r)/2&&d<p-c*(1-r)/2)return d>u+c/2?-1:1;if((g=g||a)&&(d<u+c*i/2||d>p-c*i/2))return d>u+c/2?1:-1;return 0}(o,u,j,g.swapThreshold,null==g.invertedSwapThreshold?g.swapThreshold:g.invertedSwapThreshold,O,w===u),x="swap"):(N=function(t,n){var o=De(e,n.draggable),r=De(t,n.draggable);return o<r?1:-1}(u,g),x="insert"),0===N)return $();S=null,w=u,_=N,s=Fe(u);var B=u.nextElementSibling,X=!1,Y=we(r,d,e,a,u,s,o,X=1===N);if(!1!==Y)return 1!==Y&&-1!==Y||(X=1===Y),W=!0,k(xe,30),v?h._hideClone():h._showClone(this),X&&!B?d.appendChild(e):u.parentNode.insertBefore(e,X?B:u),t=e.parentNode,void 0===I||O||(C=q(I-Fe(u)["vertical"===j?"top":"left"])),H(),!R&&this._animate(s,u),this._animate(a,e),$()}if(d.contains(e))return $()}return G&&!o.rootEl&&ie(d,o,"_onDragOver"),!1}function $(){return h&&(me(e,f?f.options.ghostClass:h.options.ghostClass,!1),me(e,g.ghostClass,!0)),f!==P&&P!==ce.active?f=P:P===ce.active&&(f=null),(u===e&&!e.animated||u===d&&!u.animated)&&(w=null),g.dragoverBubble||o.rootEl||u===L||(P._handleAutoScroll(o),e.parentNode[F]._computeIsAligned(o)),!g.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),!0}function H(){ye(P,r,"change",u,d,r,c,De(e,g.draggable),o)}},_animate:function(t,n){var o=this.options.animation;if(o){var r=Fe(n);if(n===e&&(S=r),1===t.nodeType&&(t=Fe(t)),t.left+t.width/2!==r.left+r.width/2||t.top+t.height/2!==r.top+r.height/2){var i=ve(this.el),a=i&&i.a,s=i&&i.d;he(n,"transition","none"),he(n,"transform","translate3d("+(t.left-r.left)/(a||1)+"px,"+(t.top-r.top)/(s||1)+"px,0)"),n.offsetWidth,he(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),he(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=k(function(){he(n,"transition",""),he(n,"transform",""),n.animated=!1},o)}},_offUpEvents:function(){var e=this.el.ownerDocument;ge(L,"touchmove",this._onTouchMove),ge(L,"pointermove",this._onTouchMove),ge(e,"mouseup",this._onDrop),ge(e,"touchend",this._onDrop),ge(e,"pointerup",this._onDrop),ge(e,"touchcancel",this._onDrop),ge(e,"pointercancel",this._onDrop),ge(L,"selectstart",this)},_onDrop:function(a){var s=this.el,l=this.options;j=!1,D=!1,O=!1,E=!1,clearInterval(this._loopId),clearInterval(g),te(),clearTimeout(le),le=void 0,clearTimeout(this._dragStartTimer),Ne(this._cloneId),Ne(this._dragStartId),ge(L,"mousemove",this._onTouchMove),this.nativeDraggable&&(ge(L,"drop",this),ge(s,"dragstart",this._onDragStart),ge(L,"dragover",this._handleAutoScroll),ge(L,"dragover",oe)),this._offUpEvents(),a&&(y&&(a.cancelable&&a.preventDefault(),!l.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(r===t||f&&"clone"!==f.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),e&&(this.nativeDraggable&&ge(e,"dragend",this),_e(e),e.style["will-change"]="",me(e,f?f.options.ghostClass:this.options.ghostClass,!1),me(e,this.options.chosenClass,!1),ye(this,r,"unchoose",e,t,r,c,null,a),r!==t?((u=De(e,l.draggable))>=0&&(ye(null,t,"add",e,t,r,c,u,a),ye(this,r,"remove",e,t,r,c,u,a),ye(null,t,"sort",e,t,r,c,u,a),ye(this,r,"sort",e,t,r,c,u,a)),f&&f.save()):e.nextSibling!==i&&(u=De(e,l.draggable))>=0&&(ye(this,r,"update",e,t,r,c,u,a),ye(this,r,"sort",e,t,r,c,u,a)),ce.active&&(null!=u&&-1!==u||(u=c),ye(this,r,"end",e,t,r,c,u,a),this.save()))),this._nulling()},_nulling:function(){r=e=t=n=i=o=a=s=l=P.length=g=m=h=v=b=y=u=c=w=_=S=f=p=ce.active=null,J.forEach(function(e){e.checked=!0}),J.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)ue(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Pe(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,o){var r=n.children[o];ue(r,this.options.draggable,n,!1)&&(t[e]=r)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ue(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&ne(n)},destroy:function(){var e=this.el;e[F]=null,ge(e,"mousedown",this._onTapStart),ge(e,"touchstart",this._onTapStart),ge(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ge(e,"dragover",this),ge(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),I.splice(I.indexOf(this.el),1),this.el=e=null},_hideClone:function(){o.cloneHidden||(he(o,"display","none"),o.cloneHidden=!0,o.parentNode&&this.options.removeCloneOnHide&&o.parentNode.removeChild(o))},_showClone:function(t){"clone"===t.lastPutMode?o.cloneHidden&&(r.contains(e)&&!this.options.group.revertClone?r.insertBefore(o,e):i?r.insertBefore(o,i):r.appendChild(o),this.options.group.revertClone&&this._animate(e,o),he(o,"display",""),o.cloneHidden=!1):this._hideClone()}},fe(L,"touchmove",function(e){(ce.active||j)&&e.cancelable&&e.preventDefault()}),ce.utils={on:fe,off:ge,css:he,find:be,is:function(e,t){return!!ue(e,t,e,!1)},extend:Ie,throttle:Te,closest:ue,toggleClass:me,clone:Ee,index:De,nextTick:Oe,cancelNextTick:Ne,detectDirection:K,getChild:Ce},ce.create=function(e,t){return new ce(e,t)},ce.version="1.8.1",ce})},"./node_modules/vuedraggable/dist/vuedraggable.js":function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){Array.from||(Array.from=function(e){return[].slice.call(e)});var t=n("./node_modules/sortablejs/Sortable.js");e.exports=function(e){function t(e){e.parentElement.removeChild(e)}function n(e,t,n){var o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function i(e,t){var n=this;this.$nextTick(function(){return n.$emit(e.toLowerCase(),t)})}var a=["Start","Add","Remove","Update","End"],s=["Choose","Sort","Filter","Clone"],l=["Move"].concat(a,s).map(function(e){return"on"+e}),d=null;return{name:"draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(e){var t=this.$slots.default;if(t&&1===t.length){var n=t[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var o=0,i=t,a=this.$slots,s=a.header,l=a.footer;s&&(o=s.length,i=i?[].concat(r(s),r(i)):[].concat(r(s))),l&&(i=i?[].concat(r(i),r(l)):[].concat(r(l))),this.headerOffset=o;var d=null,c=function(e,t){d=function(e,t,n){return void 0==n?e:((e=null==e?{}:e)[t]=n,e)}(d,e,t)};if(c("attrs",this.$attrs),this.componentData){var u=this.componentData,p=u.on,f=u.props;c("on",p),c("props",f)}return e(this.element,d,i)},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var n={};a.forEach(function(e){n["on"+e]=function(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),i.call(t,e,n)}}.call(t,e)}),s.forEach(function(e){n["on"+e]=i.bind(t,e)});var r=o({},this.options,n,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new e(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){for(var t in e)-1==l.indexOf(t)&&this._sortable.option(t,e[t])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,n){if(!e)return[];var o=e.map(function(e){return e.elm}),i=[].concat(r(t)).map(function(e){return o.indexOf(e)});return n?i.filter(function(e){return-1!==e}):i}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode)})},getUnderlyingVm:function(e){var t=function(e,t){return e.map(function(e){return e.elm}).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=[].concat(r(this.value));e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,e)};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var i=r.realList,a={list:i,component:r};if(t!==n&&i&&r.getUnderlyingVm){var s=r.getUnderlyingVm(n);if(s)return o(s,a)}return a},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),d=e.item},onDragAdd:function(e){this.updateEvenemt(e);var n=e.item._underlying_vm_;if(void 0!==n){t(e.item);var o=this.getVmIndex(e.newIndex);this.spliceList(o,0,n),this.computeIndexes();var r={element:n,newIndex:o};this.emitChanges({added:r})}},onDragRemove:function(e){if(this.updateEvenemt(e),n(this.rootContainer,e.item,e.oldIndex),this.isCloning)t(e.clone);else{var o=this.context.index;this.spliceList(o,1);var r={element:this.context.element,oldIndex:o};this.resetTransitionData(o),this.emitChanges({removed:r})}},onDragUpdate:function(e){this.updateEvenemt(e),t(e.item),n(e.from,e.item,e.oldIndex);var o=this.context.index,r=this.getVmIndex(e.newIndex);this.updatePosition(o,r);var i={element:this.context.element,oldIndex:o,newIndex:r};this.emitChanges({moved:i})},updateEvenemt:function(e){this.updateProperty(e,"newIndex"),this.updateProperty(e,"oldIndex")},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=[].concat(r(t.to.children)).filter(function(e){return"none"!==e.style.display}),o=n.indexOf(t.related),i=e.component.getVmIndex(o);return-1==n.indexOf(d)&&t.willInsertAfter?i+1:i},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),i=this.context,a=this.computeFutureIndex(r,e);return o(i,{futureIndex:a}),o(e,{relatedContext:r,draggedContext:i}),n(e,t)},onDragEnd:function(e){this.computeIndexes(),d=null}}}}(t)}()},0:function(e,t){},1:function(e,t){},2:function(e,t){}})});
//# sourceMappingURL=docupload.js.map